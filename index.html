<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Game</title>
    <style>
       #game {
        display: none;
        }
       #text {
        display: none;
        }
       
  
        .start_game {
			  font-size: 30px;
			  padding: 20px 30px;
			  background-color: rgb(111, 103, 196);
			  color: white;
			  border: none;
			  border-radius: 5px;
			  cursor: pointer;
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
       }

        .save_ {
        padding: 10px 20px; 
        font-size: 20px;
        position: fixed; 
        right: 10%
        }
        .load_ {
        position: fixed; 
        padding: 10px 20px; 
        font-size: 20px;
        position: fixed; 
        right: 5%
        }

        .prev-button {
        position: fixed; 
        padding: 10px 20px; 
        font-size: 20px;
        position: fixed; 
        bottom: 20px;
        right: 5%
        }
    </style>
  </head>
  <body>
    
    <button class="start_game" onclick="startgame()" >开始游戏</button>
    <button class="save_"  onclick="save()" >保存</button>
    <button class="load_"  onclick="load()" >读取</button>

    

  
  <div id="game">
        
    <button  class="prev-button" id="prev-button">上一页</button>
    <button id="next-button">下一页</button>

  </div>

  <div id="text-box">
  </div>
  
  
  
  <script>
   
    var game = document.getElementById("game");

    function startgame() {
    document.getElementById("game").style.display = "block";
    }

      
    var text = "第一段文本\n\n第二段文本\n\n第三段文本\n\n第四段文本\n\n第五段文本";
    var textArray = text.split("\n\n");

    var currentIndex; // 声明全局变量 currentIndex
    var currentIndex = -1;
    var textBox = document.getElementById("text-box");
    var prevButton = document.getElementById("prev-button");
    var nextButton = document.getElementById("next-button");

    function showText(index) {
    textBox.textContent = textArray[index];
    }

    function showNextText() {
    if (currentIndex < textArray.length - 1) {
    currentIndex++;
    showText(currentIndex);
      }
    }

    function showPrevText() {
    if (currentIndex > 0) {
    currentIndex--;
    showText(currentIndex);
      }
    }

    prevButton.addEventListener("click", showPrevText);
    nextButton.addEventListener("click", showNextText);

    showText(currentIndex);
      

    
    function save() {
    localStorage.setItem("currentIndex", currentIndex);
    }

    function load() {
    currentIndex = parseInt(localStorage.getItem("currentIndex"));
    showText(currentIndex)
    return currentIndex
    }
    

    
  </script>
    
  </body>
</html>